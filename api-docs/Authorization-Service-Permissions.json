{
  "apiVersion": "1.0",
  "swaggerVersion": "1.2",
  "basePath": "http://localhost/release.2015.6",
  "resourcePath": "/permissions",
  "produces": [
    "application/json"
  ],
  "apis": [
    {
      "path": "/permissions",
      "operations": [
        {
          "method": "GET",
          "summary": "Gets master accounts and publications this user has access to along with the user permissions.",
          "notes": "This API requires the requester to provide a non-expired IMS token.<br><br>Response has basic master account details and basic publication details along with permissions requester has over the respective resource. <br>Master accounts and publications only in active state are returned in the response.<br>If the requester has <b>master_admin</b> permission over any of the master account, then all publications belonging to the master account are returned in the response.<hr><h1>Permissions List</h1>The following table contains a simple list of known permissions which can be returned by AMAS back to the clients. The permission names starting with the prefix <b>master</b> are assigned to a user in a master account context and other permissions are assigned in a publication or workspace context.<br><br><table style=\"border: 1px solid;\"><tr><th style=\"padding: 5px; border-right: 1px solid #000000;\" bgcolor=\"#DBDEDE\">Permission Names</th><th style=\"padding: 5px;\" bgcolor=\"#DBDEDE\">UI Text</th></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> master_admin </td><td style=\"padding: 5px;\"> Master Admin </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> master_rollup_reports </td><td style=\"padding: 5px;\"> View Roll-Up Reports </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> master_status </td><td style=\"padding: 5px;\"> View Account Status </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> master_support </td><td style=\"padding: 5px;\"> Access Support </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> publication_admin </td><td style=\"padding: 5px;\"> Manage Publications </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> producer_content_add </td><td style=\"padding: 5px;\"> Add & Edit Content </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> producer_content_delete </td><td style=\"padding: 5px;\"> Delete Content </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> producer_content_view </td><td style=\"padding: 5px;\"> View Content </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> producer_content_publish </td><td style=\"padding: 5px;\"> Publish Content </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> producer_layout_add </td><td style=\"padding: 5px;\"> Add & Edit Layouts and Cards </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> producer_layout_delete </td><td style=\"padding: 5px;\"> Delete Layouts and Cards </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> analytics_baseline </td><td style=\"padding: 5px;\"> View Baseline Analytics </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> analytics_audience_metrics </td><td style=\"padding: 5px;\"> Manage Standard Audience Metrics </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> notifications_send_text </td><td style=\"padding: 5px;\"> Send Text Notifications </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> notifications_send_background </td><td style=\"padding: 5px;\"> Send Background Download Push </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> notifications_certificate_admin </td><td style=\"padding: 5px;\"> Manage Push Certificates </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> notifications_view_history </td><td style=\"padding: 5px;\"> View Notification History </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> product_add </td><td style=\"padding: 5px;\"> Add & Edit Products </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> product_view </td><td style=\"padding: 5px;\"> View Products </td></tr><tr><td style=\"padding: 5px; border-right: 1px solid #000000;\"> appbuilder </td><td style=\"padding: 5px;\"> Manage Apps </td></tr></table>",
          "type": "PermissionsResponseType",
          "nickname": "getPermissions",
          "produces": [
            "application/json"
          ],
          "parameters": [],
          "responseMessages": [
            {
              "code": 200,
              "message": "OK - Returns Master accounts and publications this user has access to along with the user permissions for that resource.",
              "responseModel": "PermissionsResponseType"
            },
            {
              "code": 400,
              "message": "Bad Request - if any of the required parameters are missing.",
              "responseModel": "ResponseType"
            },
            {
              "code": 401,
              "message": "Unauthorized - if the provided token is expired or invalid.",
              "responseModel": "ResponseType"
            },
            {
              "code": 404,
              "message": "Not Found - if the user is not a DPS user or does not have access to any resources (code - 4041).",
              "responseModel": "ResponseType"
            },
            {
              "code": 503,
              "message": "Service Unavailable - if any of the third party services are unavailable.",
              "responseModel": "ResponseType"
            }
          ]
        }
      ]
    }
  ],
  "models": {
    "ResponseType": {
      "id": "ResponseType",
      "properties": {
        "code": {
          "type": "string"
        },
        "message": {
          "type": "string"
        }
      }
    },
    "PermissionsResponseMasterType": {
      "id": "PermissionsResponseMasterType",
      "properties": {
        "id": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "createdDate": {
          "type": "string",
          "format": "date-time"
        },
        "updatedDate": {
          "type": "string",
          "format": "date-time"
        },
        "permissions": {
          "type": "array",
          "items": {
            "$ref": "PermissionType"
          }
        },
        "publications": {
          "type": "array",
          "items": {
            "$ref": "PermissionsResponsePublicationType"
          }
        }
      }
    },
    "PermissionsResponsePublicationType": {
      "id": "PermissionsResponsePublicationType",
      "properties": {
        "id": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "createdDate": {
          "type": "string",
          "format": "date-time"
        },
        "updatedDate": {
          "type": "string",
          "format": "date-time"
        },
        "permissions": {
          "type": "array",
          "items": {
            "$ref": "PermissionType"
          }
        },
        "_links": {
          "$ref": "HALLinksType"
        }
      }
    },
    "PermissionsResponseType": {
      "id": "PermissionsResponseType",
      "properties": {
        "masters": {
          "type": "array",
          "items": {
            "$ref": "PermissionsResponseMasterType"
          }
        }
      }
    }
  }
}